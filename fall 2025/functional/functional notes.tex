\documentclass[openany]{book}

\usepackage[margin=1in]{geometry}
\usepackage{amsmath,amsfonts,amsthm, amssymb}
\usepackage{yhmath}
\usepackage{mathrsfs}
\usepackage{mathtools}
\usepackage{xcolor}
\usepackage{graphicx}
\usepackage{comment}
\usepackage{tikz-cd}
\usepackage{quiver}
\renewcommand{\familydefault}{ppl}
\newcommand{\tr}{\text{tr}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\E}{\mathbb{E}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\F}{\mathbb{F}}
\newcommand{\la}{\langle}
\newcommand{\ra}{\rangle}
\newcommand{\colim}{\text{colim}}
\DeclareMathOperator{\im}{im}
\let\oldemptyset\emptyset
\let\emptyset\varnothing
\newcommand{\tor}{\text{Tor}}
\newcommand{\id}{\text{id}}
\newcommand{\ext}{\text{Ext}}
\newcommand{\ptop}{\text{PTop}}
\newcommand{\pt}{\text{pt}}
\newcommand{\ach}{\text{Ach}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\gal}{\text{Gal}}


\input{hui.tex}

\title{Functional Analysis
\\ 
\vspace{0.4cm}
\large Fall 2025}




\date{\today}
\author{Hui Sun}


\begin{document}

\maketitle

\chapter{Preliminary}

\section{9/3 lecture}



\begin{defn}[orthonormal basis]
    Let $S$ be an orthonormal set in the Hilbert space such that no other orthonormal set contains $S$ as a proper subset. Then $S$ is called an orthonormal basis.
\end{defn}

\begin{prop}
    Every Hilbert space admits an orthonormal basis.
\end{prop}
\begin{proof}
    Zorn's lemma.
\end{proof}
Remark: if $H$ is separable, i.e., $H$ has a countable dense subset, then the proof does not require Zorn's lemma. For example, $L^2$ is separable.

\begin{prop}[II.6, Parsevel's formula]
    Let $\mathcal{H}$ be a Hilbert space, and $S=\{x_n\}$ be an orthonormal basis, then for each $y\in\mathcal{H}$, 
    \begin{equation*}
        y=\sum_{\alpha\in\mathcal{A}}(x_\alpha,y)x_\alpha, \quad \|y\|^2=\sum|(x_n,y)|^2
    \end{equation*}
    where $\mathcal{A}$ is an index set.
\end{prop}
\begin{proof}
    Bessel's inequality states that for any $\mathcal{A}'\subset\mathcal{A}$ finite, we have 
    \begin{equation*}
        \sum_{\alpha\in\mathcal{A}'}|(x_\alpha,y)|^2\leq\|y\|^2<\infty
    \end{equation*}
    It follows that $|(x_\alpha,y)|>\frac{1}{n}$ for at most finitely many $\alpha$'s, and $|(x_\alpha,y)|\neq 0$ for at most countably many $\alpha$'s. Let $\{\alpha_i\}_{i=1}^\infty$ be an enumeration of such $\alpha$'s. Then 
    \begin{equation*}
        \sum_{i=1}^N|(x_{\alpha_i},y)|^2\leq\|y\|^2<\infty
    \end{equation*}
    which implies 
    \begin{equation*}
        \sum_{i=1}^\infty|(x_{\alpha_i},y)|^2<\infty
    \end{equation*}
    Let 
    \begin{equation*}
        y_n=\sum_{i=1}^n(x_{\alpha_i},y)x_{\alpha_i}, 
    \end{equation*}
    we would like to show that the sequence $\{y_n\}$ is cauchy, 
    \begin{equation*}
        \|y_n-y_m\|^2=\left\|\sum_{i=m+1}^n(x_{\alpha_i}, y)x_{\alpha_i}\right\|^2\to 0 \text{ as } m\to\infty
    \end{equation*}
    Thus $\{y_n\}$ is Cauchy. In other words,
    \begin{equation*}
        y_n\to y=\sum_{i=1}^\infty (x_{\alpha_i},y)x_{\alpha_i}
    \end{equation*}
\end{proof}


\begin{defn}
    A metric space is separable if it has a countable dense subset.
\end{defn}

\begin{prop}[II.7]
    Let $\mathcal{H}$ be a Hilbert space, then it is separable iff it has a countable orthonormal basis.
\end{prop}
\begin{proof}
    Suppose $\mathcal{H}$ is separable, let $\{x_n\}$ be a countable dense set, then we throw out terms in $\{x_n\}$ until we get a linearly indepedent dense subset $\{u_n\}\subset \{x_n\}$. Applying Gram-Schmidt, we can assume $\{u_n\}$ to be countable and orthonormal. Conversely, if $\{u_n\}$ is a countable orthonormal basis, then the set of linear combinations of $\{u_n\}$ with rational coefficients forms a countable dense subset of $\mathcal{H}$.
\end{proof}



\begin{defn}[Fourier Coefficient]
    The $n$th Fourier coefficient of a $2\pi$-periodic function $f$ is 
    \begin{equation*}
        c_n=\frac{1}{\sqrt{2\pi}}\int_0^{2\pi}e^{-inx}f(x)dx
    \end{equation*}
    The Fourier series of $f$ is 
    \begin{equation*}
        \tilde{f}(x)=\lim_{M\to\infty}
        \sum_{M=-N}^N\frac{1}{\sqrt{2\pi}}c_ne^{inx}
    \end{equation*}
\end{defn}

\begin{prop}
    The Fourier series $\sum_{k}c_k$ converges if $f\in L^2$. Moreover, the series converges uniformly to a continuous function if $\sum|c_k|<\infty$ 
\end{prop}
I am too lazzy to type it up, but it uses the fun lemma below:
\begin{lem}
    Suppose $f$ is $2\pi$-periodic, and $(f, e^{inx})=0$ for all $n$, then $f\equiv 0$. (In other words, if all the Fourier coefficients are $0$, then the function must be identically zero).
\end{lem}


\section{9/8 Lecture}
\begin{defn}[Banach space]
    A complete normed linear space is called a Banach space.
\end{defn}
\begin{example}
    \begin{enumerate}
        \item $L^\infty(\R)=\{f:f(x)\leq M \text{ a.e. }\}$, where $\|f\|_\infty$ is the smallest such $M$, is a Banach space.
        \item Let $C(\R)$ be the bounded continuous functions on $\R$. Let $C(\R)\subset L^\infty(\R)$ and equip it with the same norm. Moreover, $C(\R)$ is also a Banach space (due to the uniform convergence of continuous functions is still continuous).
        \item Let $C_c(\R)$ be the space of continuous functions with compact support, and this is not a Banach space under $\|\cdot\|_\infty$.
        \item $L^p$ is complete for all $1\leq p<\infty$.
        \item Let $a=\{a_n\}$ be a sequence of complex numbers, ad 
        \begin{equation*}
            \|a\|=\sup_n|a_n|<\infty
        \end{equation*}
        let $c_0=\{\lim_{n\to\infty}a_n=0\}$, $s=\{\lim_{n\to\infty}n^Na_n=0 \forall N\}$, and $l_p=\{\|a\|_p^p=\sum_{n=1}^\infty|a_n|^p<\infty\}$. Note that the space 
        \begin{equation*}
            f=\{a_n=0 \text{ for al but finitely many $n$}\}
        \end{equation*}
        is not complete! However, it is a dense subset in $l^p$. Morever, the set of elements in $f$ with rational coefficients, and the closure of $f$ in $s, l^p, c_0$ are exactly the whole spaces, i.e., $s,l^p, c_0$ are separable.
        \item Let $L(X,Y)$ be bounded linear operators from $X,Y$, with the operator norm, and $L(X,Y)$ is a Banach psace.
    \end{enumerate}
\end{example}

\begin{prop}
    Let $L^p(\R)$, where $1\leq p<\infty$ be the space of functions with the norm 
    \begin{equation*}
        \|f\|_p=\left(\int_\R|f(x)|^pdx\right)^p
    \end{equation*}
    then 
    \begin{enumerate}
        \item (Minkowski's inequality) $\|f\|_p\leq\|f\|_p+\|g\|_p$.
        \item (Riesz-Fischer) $L^p$ is complete.
        \item (Holder) Given $\frac{1}{p}+\frac{1}{q}=\frac{1}{r}$, we have 
        \begin{equation*}
            \|fg\|_r\leq\|f\|_p\|g\|_q
        \end{equation*}
        if $f\in L^p, g\in L^q$.
    \end{enumerate}
\end{prop}


\begin{prop}
    If $Y$ is complete, then $L(X,Y)$ is a Banach space.
\end{prop}
\begin{proof}
    Suppose $\{A_n\}$ is Cauchy, now we construct the limit: for each $x$, $A_nx=y_n$ is a Cauchy sequence:
    \begin{equation*}
        \|y_n-y_m\|\leq\|A_n-Am\|\cdot\|x\|
    \end{equation*}
    Now since $Y$ is complete, we know that $A_nx\to y$. Let $Ax=y$. (This is our limit)! Now $\|A_n\|\leq C$ for all $n$, which implies $\|A\|\leq C$. Thus $L(X,Y)$ is complete!
\end{proof}

\subsection{Duals}
\begin{defn}[dual space]
    The space of bounded linear functionals $L(X,\C)$, where $X$ is Banach, is called the dual space to $X$, denoted by $X^*$. Let $f\in X^*$, then define the norm 
    \begin{equation*}
        \|f\|=\sup_{x\in X, \|x\|\leq 1}|f(x)|
    \end{equation*}
\end{defn}


\begin{example}
    \begin{enumerate}
        \item Suppose that $1<p<\infty$, $\frac{1}{p}+\frac{1}{q}=1$, and let $g\in L^q$, then 
        \begin{equation*}
            G(f)=\int_{-\infty}^\infty\bar{g}(x)f(x)dx
        \end{equation*}
        Then $G$ is in $(L^p)^*$. Moreover, any such linear functional on $L^p$ can be written in this way for some $g\in L^q$. And 
        \begin{equation*}
            |G(f)|\leq\|f\|_p\|g\|_q
        \end{equation*}
        by Holder. Moreover, 
        \begin{equation*}
            L^q(\R)^*=L^p, (L^q(\R)^*)^*=L^q
        \end{equation*}
        because $L^q$ is reflexive! In particular, $L^2$ is its own dual space.
        \item Suppose $\{\lambda_k\}\subset l^q$, then 
        \begin{equation*}
            \Lambda(\{a_k\})=\sum_k\lambda_ka_k
        \end{equation*}
        is a bounded linear functional on $l^p$. Thus 
        \begin{equation*}
            l_q\subset (l^p)^*
        \end{equation*}
    \end{enumerate}
    for $1\leq p\leq\infty$. It turns out every linear functional on $l^p$ can be written in this form.
\end{example}
\begin{example}
    Let $p=1$, we have 
    \begin{equation*}
        L^1(\R)^*=L^\infty, \text{ but } L^\infty(\R)^*\neq L^1(\R)
    \end{equation*}
    in fact $L^\infty(\R)^*$ is bigger. 
\end{example}



\section{9/10 Lecture}

\begin{prop}[Geometric Hahn-Banach]
    Let $V_1$ be a subspace of $V$, $x\in V\setminus V_1$, then one can find a hyperplane (codim $1$) $V_2$ such that $V_1\subset V_2$, and $x\not\in V_2$. 
\end{prop}
\begin{proof}
    If $V_1$ has codim$V_1=1$, then we are done. Suppose that codim $V_1>1$, we would like to find $V_2$ such that $x\not\in V_2$, where $V_2\neq V_1$ such that $\dim(V/V_1)>1$. Note that we define 
    \begin{equation*}
        \dim(V/V_1)=\{[z]: [z]=[w] \iff z+w\in V_1\}
    \end{equation*} 
    (For any banach space, we can write $B=W\oplus(B/W))$. This implies that we can find $y=[y]\in V/V_1$ such that $y\not0$, and $y\neq x$ (by codim $>1$). Set 
    \begin{equation*}
        V_2=\{z+ty; z\in V_1, t\in\R\}
    \end{equation*}
    Then we can continue this process, and using Zorn's lemma, we can have $V_2$ to have codim $1$.
\end{proof}

\begin{defn}
    A subset $A\subset V$ is called  if for any $x,y\in V$, the line connecting them is contained in $A$. If the set is also open, then we call $A$ convex linearly open.
\end{defn}

\begin{prop}[Geometric HB for Convex sets]
    Let $A\subset V$ be convex linearly open, and let $V_1$ be a linear subspace which does not intersect $A$. Then there is a hyperplane  $V_2$ such that $V_1\subset V_2$ and $V_2\cap A=\emptyset$.
\end{prop}
(Essentially proof by picture).
% \begin{proof}
%     Suppose that $\dim V=2$, and $\dim (V_1)=0$. (Convexity is important! Consider a nonconvex donut around a line). Consider 
% \end{proof}


\begin{prop}[Hahn-Banach]
    Let $X$ be a real vector space, for all $x,y\in X$, and $\alpha\in[0,1]$, with sublinear functional $p(x)$ satisfying 
    \begin{equation*}
        P(\alpha x+(1-\alpha)y)\leq\alpha p(x)+(1-\alpha)p(y)
    \end{equation*}
    Suppose that $\lambda$ is a linear functional  defined on a subspace on $Y$ such that $\lambda(y)\leq p(y)$ for all $y\in Y$. Then there is a linear functional $\Lambda$ on $X$ such that $\Lambda=\lambda$ on $Y$, and 
    \begin{equation*}
        \Lambda(x)\leq p(x)
    \end{equation*}
\end{prop}
\begin{proof}
    Let $x\in Y\setminus Y$, we will first show that we can extend $\lambda$ to the subspace spanned by $Y$ and $z$, following the same bound. Define 
    \begin{equation*}
        \tilde{\lambda}(az+y)=a\tilde{\lambda}(z)+\lambda(y)
    \end{equation*}
    Suppose that $y_1,y_2\in Y$, and $\alpha,\beta>0$, and 
    \begin{align*}
        \beta\lambda(y_1)+\alpha\lambda(y_2)=\lambda(\alpha y_1+\beta y_2)&=(\alpha+\beta)\lambda\left(\frac{\beta}{\alpha+\beta}y_1+\frac{\alpha}{\alpha+\beta}y_2\right)\\
        &\leq(\alpha+\beta)p(\dots)\\
        &\leq\beta p(y_1-\alpha z)+\alpha(y_2+\beta z)
    \end{align*}
    deviding both sides by $\alpha,\beta$, taking the sup over $\alpha>0, y$, we see that 
    \begin{equation*}
        \tilde{\lambda}(x)\leq p(x)
    \end{equation*}
    for all $x$ in this subspace. Using Zorn's lemma, we extend one subspace at a time, then we are done.
\end{proof}




\section{9/15 Lecture}
\begin{prop}[Geometric Hahn-Banach]
    Let $A$ be complex and linearly open, and $A\subset V$ be a vector space over $\R$. Let $V_1$ be a subspace of $V$, $V_1\cap A=\emptyset$. Then there exists a hyperplane $V_2$ such that $V_2\cap A=\emptyset, V_1\subset V_2$. 
\end{prop}

\begin{defn}
    A seminorm $p$ is such that $p(x)\geq 0, p(x+y)=p(x)+p(y)$, and $p(\alpha x)=|\alpha|p(x)$.
\end{defn}

And we have the following analytic version of Hahn-Banach.
\begin{prop}[Analytic Hahn-Banach]
    Let $W$ be a subspace of $V$, and $f$ linear form on $W$ such that $|f(x)|\leq p(x)$, for all $x\in W$. Then there is a linear form $f_1$ such that $f_1(x)=f(x)$ on $W$, and $|f_1(x)|\leq p(x)$ for all $x$.
\end{prop}
I am too lazy to follow the proof.
% \begin{proof}
%     Let $W$ be the affine subspace, $\{x\in W: f(x)=1\}$. Then $W_1$ does not meet the set $A=\{x\in V: p(x)<1\}$. By the geometric Hahn-Banach, there is a hyperplane $V_1=\{x\in V: f_1(x)=1\}$, which constains $W_1$ and does not intersect $A$. (For $x_1\in W_1$, let $W_1'=W_1-x_1, A'=A-x_1$, which gives $V_1'=V_1-x_1$).
% \end{proof}

\section{9/17 Lecture}

\begin{prop}
    Let $T:X\to Y$ be a linear map, $T$ is bounded iff 
    \begin{equation*}
        T^{-1}(\{y: \|y\|\leq 1\})
    \end{equation*}
    has nonempty interior. 
\end{prop}
\begin{proof}
    Suppose that it has a nonempty interior, then 
    \begin{equation*}
        \{x: \|x-x_0\|\leq\varepsilon\}\subset T^{-1}(\{y: \|y\|\leq 1\})
    \end{equation*}
    Then if $\|x\|\leq\varepsilon$, then 
    \begin{equation*}
        \|Tx\|\leq\|T(x-x_0)\|+\|Tx_0\|\leq 1+\|Tx_0\|
    \end{equation*}
    then 
    \begin{equation*}
        T\left(\frac{\varepsilon x}{\|x\|}\right)=\frac{\varepsilon}{\|x\|}T(x)\Rightarrow \|T(x)\|\leq(1+\|Tx_0\|)\frac{1}{\varepsilon}\|x\|
    \end{equation*}
\end{proof}

\begin{defn}[nowhere dense]
    A set $S$ is called nowhere dense if $\overline{S}$ has empty interior.
\end{defn}

\begin{prop}[Baire category theorem]
    A complete metric space $M$ is never a union of a countable number of nowhere dense sets.
\end{prop}
\begin{proof}
    Suppose $M=\bigcup_{n=1}^\infty A_n$, where $A_n$ is nowhere dense. We will construct $\{x_n\}$ that stays away from each $A_n$ so the limit $x$ is in any $A_n$, which gives a contradiction. Take $x_1\in\bar{A}_1$, and $B_1\cap A_1=\emptyset$, and $B_1=B(x_1,r_1)=\{d(x,x_1)<\varepsilon\}$, let $x_2\in B_1\setminus A_1$, and let $B_2=B(x_2, r_2)$, and so on, $\{x_n\}$ is a Cauchy sequence, $x_n\to x$ as $n\to\infty$. We have $x_n\in B_N, n\geq N$, but $\bar{B}_N\subset B_{N-1}$, thus $x\in B_{N-1}$ for any $N$, and $x\not\in A_{N-1}$ for any $N$. This gives our contradiction.
\end{proof}

\begin{prop}[UBP]
    Let $X$ be a Banach space, let $\mathcal{F}$ be a family of bounded linear maps $T: X\to Y$. Suppose that for each $x\in X$,
    \begin{equation*}
        \left\{\|Tx\|: T\in\mathcal{F}\right\}
    \end{equation*}
    is bounded, then
    \begin{equation*}
        \sup_{T\in\mathcal{F}}\|T\|<\infty
    \end{equation*}
\end{prop}
\begin{proof}
    Key ingredient: Baire category theorem. Let $B_n=\{x: \|Tx\|\leq n, T\in\mathcal{F}\}$, each $x$ is in some $B_n$, and $X=\bigcup_{n=1}^\infty B_n$, where $B_n$ is closed. Baire category theorem, some $B_n$ has nonempty interior. 
    \begin{equation*}
        B_n\{x: \|Tx\|\leq n\}\Rightarrow \{|x: \|Tx\|\leq 1\}
    \end{equation*}
    And 
    \begin{equation*}
        \|Tx\|\leq(1+\|Tx_0\|)\|x\|\Rightarrow \|T\|\leq 1+\|T(x_0)\|
    \end{equation*}
\end{proof}

% An immediate corollary is the following:
% \begin{prop}
%     Let $X,Y$ be Banach spaces, let $B(\cdot, \cdot)$ be separately continuous on $X,Y$, then 
%     \begin{equation*}
%         B: X\times Y\to \mathbb{C}
%     \end{equation*}
%     is jointly continuous. If $x_n\to x, y_n\to y$, then $B(x_n,y_n)\to B(x,y)$.
% \end{prop}






\end{document}